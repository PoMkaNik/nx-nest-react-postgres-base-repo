# Используем минимальный образ Node.js
FROM node:22.13.1-alpine

# Устанавливаем рабочую директорию
WORKDIR /app

# Копируем собранное приложение из папки dist
COPY dist/apps/fe-main/ ./

# Устанавливаем serve для раздачи статических файлов
RUN npm install -g serve

# Указываем порт приложения
EXPOSE 4010

# Запускаем приложение через serve
# -s флаг для обработки роутинга в SPA приложении
# -l указывает порт 4010
CMD ["serve", "-s", ".", "-l", "4010"]
